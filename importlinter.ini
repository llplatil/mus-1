[tool.importlinter]
root_package=mus1

[importlinter:contract:core_layers]
name = core layering
type = layers
layers =
    mus1.core.utils
    mus1.core.schema
    mus1.core.metadata
    mus1.core.config_manager
    mus1.core.scanners
    mus1.core.repository
    mus1.core.project_discovery_service
    mus1.core.setup_service
    mus1.core.job_provider
    mus1.core.plugin_manager_clean
    mus1.core.project_manager_clean

[importlinter:contract:forbid_service_dto_defs]
name = services must not define DTOs
type = forbidden
source_modules =
    mus1.core.setup_service
forbidden_modules =
    mus1.core.setup_service
forbidden_imports =
    dataclasses:dataclass

[importlinter:contract:gui_must_use_qt_facade]
name = GUI must import Qt via facade
type = forbidden
source_modules =
    mus1.gui
forbidden_modules =
    PyQt6
    PySide6
forbidden_imports =
    PyQt6
    PySide6
